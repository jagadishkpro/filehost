<html>
  <head>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<style>
    #map {
      height: 100%;
    }
    
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        margin-top: 10px;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
        width: 300px;
      }
   
	
	
	
    
    
  </style>
  
  
  
<input id="pac-input" type="search" placeholder="Enter address" >
	
		<div id="map"></div>
	
	<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>
	
var map;
var infowindow;
var markers = [];
var markersTarget = [];
var polyData = {
"type": "FeatureCollection",
"features": [
{ "type": "Feature", "properties": { "Zone": "6", "ZoneName": "Dearborn-Detroit", "color": "yellow" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.151079, 42.296233 ], [ -83.155617, 42.295476 ], [ -83.157401, 42.293014 ], [ -83.161748, 42.291789 ], [ -83.167074, 42.289571 ], [ -83.169978, 42.289774 ], [ -83.169133, 42.291609 ], [ -83.171445, 42.293138 ], [ -83.17093, 42.294549 ], [ -83.17421, 42.297479 ], [ -83.176869, 42.295341 ], [ -83.179395, 42.294785 ], [ -83.180537, 42.294726 ], [ -83.18364, 42.295259 ], [ -83.188529, 42.29537 ], [ -83.199129, 42.301161 ], [ -83.200714, 42.300524 ], [ -83.206197, 42.298412 ], [ -83.20472, 42.296146 ], [ -83.204608, 42.29289 ], [ -83.205137, 42.291853 ], [ -83.217729, 42.277222 ], [ -83.229099, 42.282598 ], [ -83.285158, 42.281416 ], [ -83.28638, 42.312186 ], [ -83.291108, 42.31205 ], [ -83.310867, 42.311709 ], [ -83.31218, 42.340636 ], [ -83.312825, 42.35518 ], [ -83.293855, 42.356394 ], [ -83.265987, 42.357046 ], [ -83.265656, 42.357055 ], [ -83.264342, 42.343572 ], [ -83.264449, 42.341038 ], [ -83.263186, 42.341714 ], [ -83.254857, 42.341832 ], [ -83.248867, 42.342397 ], [ -83.250084, 42.343757 ], [ -83.248544, 42.344104 ], [ -83.246503, 42.346452 ], [ -83.248443, 42.35105 ], [ -83.249929, 42.35154 ], [ -83.250393, 42.350279 ], [ -83.251664, 42.350774 ], [ -83.25142, 42.355151 ], [ -83.250313, 42.357309 ], [ -83.24688, 42.357364 ], [ -83.24726, 42.36454 ], [ -83.245947, 42.364559 ], [ -83.246228, 42.371829 ], [ -83.255488, 42.371693 ], [ -83.255428, 42.372393 ], [ -83.254168, 42.373571 ], [ -83.251577, 42.373945 ], [ -83.248884, 42.373449 ], [ -83.247475, 42.374777 ], [ -83.248379, 42.375883 ], [ -83.249833, 42.375173 ], [ -83.254059, 42.375928 ], [ -83.256336, 42.377889 ], [ -83.255852, 42.378916 ], [ -83.24019, 42.379038 ], [ -83.236561, 42.378763 ], [ -83.236653, 42.380462 ], [ -83.233884, 42.378839 ], [ -83.231853, 42.378223 ], [ -83.225541, 42.37809 ], [ -83.216931, 42.378803 ], [ -83.21755, 42.386712 ], [ -83.216952, 42.382172 ], [ -83.216819, 42.386724 ], [ -83.217194, 42.397767 ], [ -83.218203, 42.400665 ], [ -83.218203, 42.401127 ], [ -83.218227, 42.408342 ], [ -83.204423, 42.408655 ], [ -83.204459, 42.409536 ], [ -83.203218, 42.408662 ], [ -83.169768, 42.409535 ], [ -83.168602, 42.407686 ], [ -83.169492, 42.404041 ], [ -83.169053, 42.395031 ], [ -83.168982, 42.393571 ], [ -83.163289, 42.393899 ], [ -83.163244, 42.391557 ], [ -83.168875, 42.391417 ], [ -83.168175, 42.388262 ], [ -83.16752, 42.38473 ], [ -83.168073, 42.38341 ], [ -83.167915, 42.380504 ], [ -83.16776, 42.378845 ], [ -83.167374, 42.366009 ], [ -83.167167, 42.357011 ], [ -83.167434, 42.352351 ], [ -83.168503, 42.351475 ], [ -83.149623, 42.351877 ], [ -83.147736, 42.351916 ], [ -83.147545, 42.349918 ], [ -83.149197, 42.341072 ], [ -83.150814, 42.338784 ], [ -83.153713, 42.337333 ], [ -83.156981, 42.336961 ], [ -83.156594, 42.327798 ], [ -83.155354, 42.328138 ], [ -83.155005, 42.327654 ], [ -83.153209, 42.328087 ], [ -83.147038, 42.31963 ], [ -83.14078, 42.311008 ], [ -83.139717, 42.308662 ], [ -83.140584, 42.306846 ], [ -83.142494, 42.305502 ], [ -83.141652, 42.302172 ], [ -83.140403, 42.299054 ], [ -83.141563, 42.295457 ], [ -83.144473, 42.293584 ], [ -83.147468, 42.292539 ], [ -83.148823, 42.293202 ], [ -83.149763, 42.295566 ], [ -83.151079, 42.296233 ] ] ] ] } },
{ "type": "Feature", "id": 1, "properties": { "Zone": "4", "ZoneName": "Hazel Park-Hamtramk", "color": "blue" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.167434, 42.352351 ], [ -83.167167, 42.357011 ], [ -83.167374, 42.366009 ], [ -83.16776, 42.378845 ], [ -83.167915, 42.380504 ], [ -83.168073, 42.38341 ], [ -83.16752, 42.38473 ], [ -83.168175, 42.388262 ], [ -83.168875, 42.391417 ], [ -83.163244, 42.391557 ], [ -83.163289, 42.393899 ], [ -83.168982, 42.393571 ], [ -83.169053, 42.395031 ], [ -83.169492, 42.404041 ], [ -83.168602, 42.407686 ], [ -83.169768, 42.409535 ], [ -83.170004, 42.414418 ], [ -83.165872, 42.410727 ], [ -83.170016, 42.414665 ], [ -83.170502, 42.425825 ], [ -83.169463, 42.425833 ], [ -83.169544, 42.427648 ], [ -83.170569, 42.427623 ], [ -83.170698, 42.431249 ], [ -83.169642, 42.431255 ], [ -83.169759, 42.434827 ], [ -83.170846, 42.43471 ], [ -83.170184, 42.436642 ], [ -83.171265, 42.445545 ], [ -83.133115, 42.446395 ], [ -83.124708, 42.446578 ], [ -83.109626, 42.446959 ], [ -83.110557, 42.461196 ], [ -83.111361, 42.468595 ], [ -83.113743, 42.46854 ], [ -83.113975, 42.47593 ], [ -83.110919, 42.475929 ], [ -83.109616, 42.476048 ], [ -83.084523, 42.476345 ], [ -83.083393, 42.447153 ], [ -83.081037, 42.447055 ], [ -83.024745, 42.448159 ], [ -83.005266, 42.448816 ], [ -83.01065, 42.441658 ], [ -83.004963, 42.441681 ], [ -83.005344, 42.438662 ], [ -83.004959, 42.429007 ], [ -83.005545, 42.427198 ], [ -83.004318, 42.427228 ], [ -83.004812, 42.423816 ], [ -83.004649, 42.419937 ], [ -83.010408, 42.419781 ], [ -83.009038, 42.418124 ], [ -83.010138, 42.417727 ], [ -83.011884, 42.419738 ], [ -83.013717, 42.419681 ], [ -83.019228, 42.419459 ], [ -83.008832, 42.40761 ], [ -83.015034, 42.405238 ], [ -83.018375, 42.405121 ], [ -83.018278, 42.402488 ], [ -83.023056, 42.402332 ], [ -83.023, 42.400953 ], [ -83.027995, 42.400857 ], [ -83.028254, 42.397669 ], [ -83.02918, 42.396014 ], [ -83.029086, 42.393587 ], [ -83.027238, 42.39363 ], [ -83.026448, 42.390469 ], [ -83.029084, 42.390441 ], [ -83.029084, 42.388858 ], [ -83.027123, 42.388882 ], [ -83.028293, 42.386479 ], [ -83.026271, 42.384776 ], [ -83.022845, 42.385442 ], [ -83.020176, 42.386277 ], [ -83.020281, 42.385638 ], [ -83.025488, 42.384637 ], [ -83.024667, 42.382358 ], [ -83.019377, 42.374366 ], [ -83.017697, 42.374297 ], [ -83.017866, 42.374041 ], [ -83.027655, 42.370473 ], [ -83.031803, 42.368967 ], [ -83.03228, 42.369685 ], [ -83.034686, 42.368811 ], [ -83.034211, 42.368092 ], [ -83.035857, 42.367492 ], [ -83.046634, 42.36358 ], [ -83.049704, 42.363359 ], [ -83.050695, 42.36485 ], [ -83.052258, 42.364131 ], [ -83.051838, 42.361907 ], [ -83.054365, 42.361004 ], [ -83.054241, 42.360835 ], [ -83.062974, 42.357225 ], [ -83.071311, 42.354423 ], [ -83.074295, 42.360163 ], [ -83.076031, 42.35906 ], [ -83.076514, 42.358757 ], [ -83.080993, 42.356037 ], [ -83.078998, 42.357708 ], [ -83.081276, 42.35892 ], [ -83.083396, 42.363001 ], [ -83.088062, 42.363574 ], [ -83.085228, 42.365418 ], [ -83.086601, 42.36539 ], [ -83.091122, 42.363732 ], [ -83.091528, 42.364991 ], [ -83.093574, 42.364236 ], [ -83.092837, 42.363092 ], [ -83.097557, 42.361957 ], [ -83.109068, 42.35747 ], [ -83.111012, 42.355954 ], [ -83.111649, 42.355732 ], [ -83.113635, 42.355212 ], [ -83.122661, 42.35183 ], [ -83.138246, 42.352101 ], [ -83.147736, 42.351916 ], [ -83.149623, 42.351877 ], [ -83.168503, 42.351475 ], [ -83.167434, 42.352351 ] ] ] ] } },
{ "type": "Feature", "id": 2, "properties": { "Zone": "5-2", "ZoneName": "Westland-Belleville-2", "color": "green" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.428283071957296, 42.308982782900927 ], [ -83.428280753547341, 42.308980266336278 ], [ -83.426534447265126, 42.265352767530985 ], [ -83.440509923897935, 42.26493414229968 ], [ -83.439765302345876, 42.249230310724265 ], [ -83.432550300074737, 42.249184355295789 ], [ -83.432573277788975, 42.246771695300659 ], [ -83.430735060649823, 42.244956455875759 ], [ -83.430378906079113, 42.241934886453294 ], [ -83.427788168798628, 42.24078025631276 ], [ -83.427179259371286, 42.238241218889321 ], [ -83.425025190067686, 42.237943315687758 ], [ -83.425025, 42.237938 ], [ -83.4243, 42.216384 ], [ -83.436307, 42.213606 ], [ -83.438054, 42.212998 ], [ -83.434517, 42.210818 ], [ -83.431106, 42.209465 ], [ -83.429671, 42.208419 ], [ -83.429302, 42.206665 ], [ -83.429906, 42.205576 ], [ -83.432752, 42.2051 ], [ -83.434268, 42.204042 ], [ -83.433271, 42.203209 ], [ -83.431034, 42.202696 ], [ -83.428918, 42.201002 ], [ -83.427056, 42.200367 ], [ -83.426728, 42.197778 ], [ -83.427783, 42.196346 ], [ -83.429324, 42.196034 ], [ -83.42841, 42.194809 ], [ -83.430502, 42.193783 ], [ -83.430925, 42.19173 ], [ -83.432342, 42.189514 ], [ -83.43184, 42.187987 ], [ -83.428801, 42.187748 ], [ -83.426715, 42.188207 ], [ -83.423409, 42.18781 ], [ -83.423319, 42.184355 ], [ -83.423209, 42.180152 ], [ -83.423191, 42.179439 ], [ -83.423102, 42.177292 ], [ -83.423076, 42.176654 ], [ -83.423003, 42.174465 ], [ -83.42189, 42.173142 ], [ -83.419277, 42.173214 ], [ -83.418842, 42.172298 ], [ -83.418518, 42.172225 ], [ -83.417573, 42.172313 ], [ -83.416682, 42.172252 ], [ -83.415615, 42.170036 ], [ -83.415964, 42.168716 ], [ -83.415063, 42.16638 ], [ -83.414136, 42.165303 ], [ -83.410724, 42.164428 ], [ -83.41152, 42.162692 ], [ -83.409559, 42.161992 ], [ -83.408542, 42.159718 ], [ -83.407349, 42.158031 ], [ -83.406757, 42.157772 ], [ -83.402478, 42.159935 ], [ -83.404083, 42.156453 ], [ -83.406881, 42.157244 ], [ -83.407498, 42.15601 ], [ -83.407405, 42.151451 ], [ -83.407622, 42.140337 ], [ -83.408871, 42.140583 ], [ -83.410082, 42.143025 ], [ -83.409926, 42.144113 ], [ -83.411869, 42.144518 ], [ -83.412087, 42.148025 ], [ -83.412134, 42.14139 ], [ -83.414136, 42.141912 ], [ -83.421863, 42.140057 ], [ -83.421482, 42.124465 ], [ -83.451069, 42.123537 ], [ -83.451083, 42.121005 ], [ -83.460431, 42.120855 ], [ -83.459975, 42.10187 ], [ -83.479471, 42.101693 ], [ -83.479114, 42.088951 ], [ -83.479967, 42.086879 ], [ -83.509991, 42.086172 ], [ -83.509905, 42.082754 ], [ -83.513275, 42.082065 ], [ -83.52392, 42.080969 ], [ -83.527249, 42.081109 ], [ -83.531004, 42.082102 ], [ -83.533901, 42.081314 ], [ -83.539357, 42.083408 ], [ -83.539396, 42.085598 ], [ -83.539729, 42.096678 ], [ -83.541674, 42.096632 ], [ -83.544029, 42.110204 ], [ -83.542725, 42.111681 ], [ -83.542987, 42.114772 ], [ -83.540224, 42.114825 ], [ -83.541044, 42.143907 ], [ -83.544935, 42.156618 ], [ -83.541498, 42.157172 ], [ -83.542102, 42.174344 ], [ -83.547026, 42.174276 ], [ -83.547121, 42.178845 ], [ -83.542518, 42.1789 ], [ -83.542507, 42.180411 ], [ -83.547277, 42.180346 ], [ -83.548592, 42.181486 ], [ -83.54372, 42.181584 ], [ -83.545595, 42.189161 ], [ -83.547285, 42.191299 ], [ -83.547777, 42.192887 ], [ -83.548082, 42.203315 ], [ -83.552722, 42.203138 ], [ -83.553048, 42.206719 ], [ -83.551085, 42.207366 ], [ -83.554776, 42.20893 ], [ -83.553612, 42.21051 ], [ -83.550962, 42.210859 ], [ -83.54344, 42.209356 ], [ -83.54354, 42.217701 ], [ -83.544463, 42.24709 ], [ -83.543728, 42.262462 ], [ -83.544059, 42.272712 ], [ -83.544203, 42.276894 ], [ -83.544563, 42.286175 ], [ -83.544759, 42.291234 ], [ -83.544839, 42.293007 ], [ -83.545375, 42.305817 ], [ -83.428283, 42.308981 ], [ -83.428283071957296, 42.308982782900927 ] ] ] ] } },
{ "type": "Feature", "id": 3, "properties": { "Zone": "3", "ZoneName": "AirPort-Downriver", "color": "blue" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.228123128416343, 42.184282230268302 ], [ -83.22812977442554, 42.18427879267734 ], [ -83.264509069554691, 42.183526765904645 ], [ -83.261450345277268, 42.181427357830856 ], [ -83.261657634708243, 42.179556932268 ], [ -83.259989677891909, 42.178645822908763 ], [ -83.25747328061405, 42.179412311734765 ], [ -83.257198501600968, 42.17561843308021 ], [ -83.262802547262922, 42.175153237031701 ], [ -83.26266274741414, 42.173408149264297 ], [ -83.263993256319679, 42.172386164162937 ], [ -83.266833242040605, 42.172268057394149 ], [ -83.266801305006197, 42.170387990462416 ], [ -83.261792613872657, 42.170921881264178 ], [ -83.261064690522133, 42.168005367177777 ], [ -83.264600662559147, 42.169044224674671 ], [ -83.266789253295073, 42.169018916081363 ], [ -83.266547013901956, 42.159858410473603 ], [ -83.261726329461609, 42.160224782491071 ], [ -83.261169540408773, 42.153097400546002 ], [ -83.262726621482997, 42.155241701243618 ], [ -83.266473498464265, 42.156713215169042 ], [ -83.266355391695484, 42.152555374839238 ], [ -83.287498913650879, 42.152352906092759 ], [ -83.287074693420081, 42.147676842185611 ], [ -83.29004423503531, 42.145314706809842 ], [ -83.304736863858523, 42.137803887596966 ], [ -83.304737, 42.137816 ], [ -83.304956, 42.14141 ], [ -83.307679, 42.141405 ], [ -83.311715, 42.137735 ], [ -83.313302, 42.137714 ], [ -83.317541, 42.139544 ], [ -83.322139, 42.144884 ], [ -83.324596, 42.146529 ], [ -83.324814, 42.152195 ], [ -83.330037, 42.15209 ], [ -83.328315, 42.150246 ], [ -83.328866, 42.148811 ], [ -83.330567, 42.14972 ], [ -83.335808, 42.15028 ], [ -83.336376, 42.150989 ], [ -83.339464, 42.151878 ], [ -83.346674, 42.15173 ], [ -83.358068, 42.158718 ], [ -83.362084, 42.165951 ], [ -83.364082, 42.165916 ], [ -83.364405, 42.176938 ], [ -83.371297, 42.174937 ], [ -83.373684, 42.175201 ], [ -83.374205, 42.176279 ], [ -83.378458, 42.176922 ], [ -83.382618, 42.178261 ], [ -83.386267, 42.178205 ], [ -83.387032, 42.180002 ], [ -83.388518, 42.179972 ], [ -83.421637, 42.179447 ], [ -83.423191, 42.179439 ], [ -83.423209, 42.180152 ], [ -83.423319, 42.184355 ], [ -83.423409, 42.18781 ], [ -83.426715, 42.188207 ], [ -83.428801, 42.187748 ], [ -83.43184, 42.187987 ], [ -83.432342, 42.189514 ], [ -83.430925, 42.19173 ], [ -83.430502, 42.193783 ], [ -83.42841, 42.194809 ], [ -83.429324, 42.196034 ], [ -83.427783, 42.196346 ], [ -83.426728, 42.197778 ], [ -83.427056, 42.200367 ], [ -83.428918, 42.201002 ], [ -83.431034, 42.202696 ], [ -83.433271, 42.203209 ], [ -83.434268, 42.204042 ], [ -83.432752, 42.2051 ], [ -83.429906, 42.205576 ], [ -83.429302, 42.206665 ], [ -83.429671, 42.208419 ], [ -83.431106, 42.209465 ], [ -83.434517, 42.210818 ], [ -83.438054, 42.212998 ], [ -83.436307, 42.213606 ], [ -83.4243, 42.216384 ], [ -83.425025, 42.237938 ], [ -83.425668, 42.255921 ], [ -83.426534, 42.265351 ], [ -83.424126, 42.265714 ], [ -83.423172, 42.265842 ], [ -83.348095, 42.267463 ], [ -83.308999, 42.26823 ], [ -83.231911, 42.269879 ], [ -83.229843, 42.227545 ], [ -83.228123128416343, 42.184282230268302 ] ] ] ] } },
{ "type": "Feature", "id": 4, "properties": { "Zone": "1", "ZoneName": "Oak Park-Sfld-Redford", "color": "red" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.218227, 42.408342 ], [ -83.218203, 42.401127 ], [ -83.218203, 42.400665 ], [ -83.217194, 42.397767 ], [ -83.216819, 42.386724 ], [ -83.216952, 42.382172 ], [ -83.21755, 42.386712 ], [ -83.216931, 42.378803 ], [ -83.225541, 42.37809 ], [ -83.231853, 42.378223 ], [ -83.233884, 42.378839 ], [ -83.236653, 42.380462 ], [ -83.236561, 42.378763 ], [ -83.24019, 42.379038 ], [ -83.255852, 42.378916 ], [ -83.266663, 42.378604 ], [ -83.274999, 42.378433 ], [ -83.275309, 42.378428 ], [ -83.27532, 42.379413 ], [ -83.275449, 42.380906 ], [ -83.275056, 42.380928 ], [ -83.275941, 42.407281 ], [ -83.276681, 42.407278 ], [ -83.285608, 42.407026 ], [ -83.286463, 42.407 ], [ -83.297147, 42.406765 ], [ -83.314576, 42.405912 ], [ -83.315306, 42.406434 ], [ -83.315528, 42.411479 ], [ -83.316825, 42.442033 ], [ -83.287803, 42.442683 ], [ -83.258867, 42.443403 ], [ -83.259401, 42.447982 ], [ -83.255739, 42.44806 ], [ -83.259725, 42.449667 ], [ -83.260217, 42.460892 ], [ -83.257025, 42.460943 ], [ -83.257484, 42.462439 ], [ -83.25695, 42.464674 ], [ -83.260367, 42.464438 ], [ -83.261018, 42.478921 ], [ -83.251255, 42.479523 ], [ -83.254154, 42.480976 ], [ -83.261208, 42.483461 ], [ -83.261216, 42.483781 ], [ -83.253396, 42.480975 ], [ -83.250724, 42.479555 ], [ -83.24085, 42.480089 ], [ -83.240702, 42.47649 ], [ -83.237494, 42.476613 ], [ -83.233437, 42.478432 ], [ -83.232809, 42.48009 ], [ -83.231185, 42.480468 ], [ -83.202198, 42.481107 ], [ -83.202384, 42.488359 ], [ -83.183376, 42.488727 ], [ -83.158629, 42.489485 ], [ -83.153202, 42.483684 ], [ -83.153165, 42.482482 ], [ -83.153759, 42.478617 ], [ -83.153503, 42.474169 ], [ -83.155626, 42.474122 ], [ -83.155057, 42.467658 ], [ -83.154108, 42.46767 ], [ -83.138616, 42.467944 ], [ -83.13324, 42.468196 ], [ -83.13374, 42.47542 ], [ -83.113975, 42.47593 ], [ -83.113743, 42.46854 ], [ -83.111361, 42.468595 ], [ -83.110557, 42.461196 ], [ -83.109626, 42.446959 ], [ -83.124708, 42.446578 ], [ -83.133115, 42.446395 ], [ -83.171265, 42.445545 ], [ -83.170184, 42.436642 ], [ -83.170846, 42.43471 ], [ -83.169759, 42.434827 ], [ -83.169642, 42.431255 ], [ -83.170698, 42.431249 ], [ -83.170569, 42.427623 ], [ -83.169544, 42.427648 ], [ -83.169463, 42.425833 ], [ -83.170502, 42.425825 ], [ -83.170016, 42.414665 ], [ -83.165872, 42.410727 ], [ -83.170004, 42.414418 ], [ -83.169768, 42.409535 ], [ -83.203218, 42.408662 ], [ -83.204459, 42.409536 ], [ -83.204423, 42.408655 ], [ -83.218227, 42.408342 ] ] ] ] } },
{ "type": "Feature", "properties": { "Zone": "2-2", "ZoneName": "Detroit-South-2", "color": "orange" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.134831, 42.221651 ], [ -83.133669, 42.222785 ], [ -83.131594, 42.223015 ], [ -83.132163, 42.21994 ], [ -83.133367, 42.218986 ], [ -83.134379, 42.218185 ], [ -83.135464, 42.218701 ], [ -83.134831, 42.221651 ] ] ], [ [ [ -83.134644, 42.227384 ], [ -83.132862, 42.227178 ], [ -83.131928, 42.22699 ], [ -83.13182, 42.226675 ], [ -83.133825, 42.226243 ], [ -83.134644, 42.227384 ] ] ], [ [ [ -83.138433, 42.227561 ], [ -83.135253, 42.229786 ], [ -83.135721, 42.228103 ], [ -83.137021, 42.226509 ], [ -83.139755, 42.224945 ], [ -83.138433, 42.227561 ] ] ], [ [ [ -83.144466442085502, 42.293588220953225 ], [ -83.144445102883537, 42.293553163692863 ], [ -83.137888972044678, 42.284953062651276 ], [ -83.137145381469765, 42.283261002412715 ], [ -83.137529831053897, 42.282791286972554 ], [ -83.135672662373267, 42.282744285299302 ], [ -83.131560618545663, 42.281404135024886 ], [ -83.121957815140462, 42.27942283371992 ], [ -83.118376046601313, 42.279191440866782 ], [ -83.117840950628377, 42.281158280118454 ], [ -83.118940066680779, 42.282980498836906 ], [ -83.119957231097729, 42.287560149055238 ], [ -83.11933054212048, 42.289044919862881 ], [ -83.116630958833895, 42.290192242759687 ], [ -83.114683402319983, 42.290177780706365 ], [ -83.108223685169918, 42.289020816440683 ], [ -83.103664396933979, 42.287924278763683 ], [ -83.103666, 42.287922 ], [ -83.111132, 42.275651 ], [ -83.112213, 42.269473 ], [ -83.113659, 42.266034 ], [ -83.115594, 42.264067 ], [ -83.117256, 42.260812 ], [ -83.11961, 42.26086 ], [ -83.117648, 42.259072 ], [ -83.119839, 42.255461 ], [ -83.124607, 42.258075 ], [ -83.120187, 42.255043 ], [ -83.125634, 42.247972 ], [ -83.134687, 42.243908 ], [ -83.140775, 42.24201 ], [ -83.141799, 42.242857 ], [ -83.143499, 42.241076 ], [ -83.147316, 42.234793 ], [ -83.147841, 42.22739 ], [ -83.14362, 42.222596 ], [ -83.141327, 42.218461 ], [ -83.141244, 42.217078 ], [ -83.141671, 42.214132 ], [ -83.143223, 42.211263 ], [ -83.144632, 42.210036 ], [ -83.144061, 42.209083 ], [ -83.146895, 42.203441 ], [ -83.143236, 42.202618 ], [ -83.146085, 42.199966 ], [ -83.148557, 42.191958 ], [ -83.150561, 42.189189 ], [ -83.152219, 42.185115 ], [ -83.15442, 42.185409 ], [ -83.179593, 42.185014 ], [ -83.228123, 42.184279 ], [ -83.229843, 42.227545 ], [ -83.231911, 42.269879 ], [ -83.225394, 42.270161 ], [ -83.224177, 42.270607 ], [ -83.221627, 42.272534 ], [ -83.217729, 42.277222 ], [ -83.205137, 42.291853 ], [ -83.204608, 42.29289 ], [ -83.20472, 42.296146 ], [ -83.206197, 42.298412 ], [ -83.200714, 42.300524 ], [ -83.199129, 42.301161 ], [ -83.188529, 42.29537 ], [ -83.18364, 42.295259 ], [ -83.180537, 42.294726 ], [ -83.179395, 42.294785 ], [ -83.176869, 42.295341 ], [ -83.17421, 42.297479 ], [ -83.17093, 42.294549 ], [ -83.171445, 42.293138 ], [ -83.169133, 42.291609 ], [ -83.169978, 42.289774 ], [ -83.167074, 42.289571 ], [ -83.161748, 42.291789 ], [ -83.157401, 42.293014 ], [ -83.155617, 42.295476 ], [ -83.151079, 42.296233 ], [ -83.149763, 42.295566 ], [ -83.148823, 42.293202 ], [ -83.147468, 42.292539 ], [ -83.144473, 42.293584 ], [ -83.144466442085502, 42.293588220953225 ] ] ] ] } },
{ "type": "Feature", "id": 6, "properties": { "Zone": "5", "ZoneName": "Westland-Belleville", "color": "green" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.425025190067686, 42.237943315687758 ], [ -83.427179259371286, 42.238241218889321 ], [ -83.427788168798628, 42.24078025631276 ], [ -83.430378906079113, 42.241934886453294 ], [ -83.430735060649823, 42.244956455875759 ], [ -83.432573277788975, 42.246771695300659 ], [ -83.432550300074737, 42.249184355295789 ], [ -83.439765302345876, 42.249230310724265 ], [ -83.440509923897935, 42.26493414229968 ], [ -83.426534447265126, 42.265352767530985 ], [ -83.428280753547341, 42.308980266336278 ], [ -83.428283071957296, 42.308982782900927 ], [ -83.430038, 42.352465 ], [ -83.312825, 42.35518 ], [ -83.31218, 42.340636 ], [ -83.310867, 42.311709 ], [ -83.291108, 42.31205 ], [ -83.28638, 42.312186 ], [ -83.285158, 42.281416 ], [ -83.229099, 42.282598 ], [ -83.217729, 42.277222 ], [ -83.221627, 42.272534 ], [ -83.224177, 42.270607 ], [ -83.225394, 42.270161 ], [ -83.231911, 42.269879 ], [ -83.308999, 42.26823 ], [ -83.348095, 42.267463 ], [ -83.423172, 42.265842 ], [ -83.424126, 42.265714 ], [ -83.426534, 42.265351 ], [ -83.425668, 42.255921 ], [ -83.425025190067686, 42.237943315687758 ] ] ] ] } },
{ "type": "Feature", "id": 7, "properties": { "Zone": "3-2", "ZoneName": "AirPort-Downriver-2", "color": "blue" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.304736863858523, 42.137803887596966 ], [ -83.29004423503531, 42.145314706809842 ], [ -83.287074693420081, 42.147676842185611 ], [ -83.287498913650879, 42.152352906092759 ], [ -83.266355391695484, 42.152555374839238 ], [ -83.266473498464265, 42.156713215169042 ], [ -83.262726621482997, 42.155241701243618 ], [ -83.261169540408773, 42.153097400546002 ], [ -83.261726329461609, 42.160224782491071 ], [ -83.266547013901956, 42.159858410473603 ], [ -83.266789253295073, 42.169018916081363 ], [ -83.264600662559147, 42.169044224674671 ], [ -83.261064690522133, 42.168005367177777 ], [ -83.261792613872657, 42.170921881264178 ], [ -83.266801305006197, 42.170387990462416 ], [ -83.266833242040605, 42.172268057394149 ], [ -83.263993256319679, 42.172386164162937 ], [ -83.26266274741414, 42.173408149264297 ], [ -83.262802547262922, 42.175153237031701 ], [ -83.257198501600968, 42.17561843308021 ], [ -83.25747328061405, 42.179412311734765 ], [ -83.259989677891909, 42.178645822908763 ], [ -83.261657634708243, 42.179556932268 ], [ -83.261450345277268, 42.181427357830856 ], [ -83.264509069554691, 42.183526765904645 ], [ -83.22812977442554, 42.18427879267734 ], [ -83.228123128416343, 42.184282230268302 ], [ -83.228123, 42.184279 ], [ -83.179593, 42.185014 ], [ -83.15442, 42.185409 ], [ -83.152219, 42.185115 ], [ -83.150561, 42.189189 ], [ -83.148557, 42.191958 ], [ -83.146085, 42.199966 ], [ -83.143236, 42.202618 ], [ -83.141298, 42.201024 ], [ -83.140766, 42.197507 ], [ -83.141669, 42.18967 ], [ -83.143545, 42.188651 ], [ -83.142091, 42.184817 ], [ -83.143449, 42.18396 ], [ -83.144154, 42.176139 ], [ -83.142269, 42.169796 ], [ -83.137913, 42.163033 ], [ -83.136842, 42.158521 ], [ -83.137501, 42.143233 ], [ -83.137506, 42.134387 ], [ -83.13801, 42.131263 ], [ -83.140265, 42.126509 ], [ -83.141648, 42.11874 ], [ -83.145275, 42.112192 ], [ -83.146331, 42.108827 ], [ -83.147696, 42.107678 ], [ -83.145563, 42.108204 ], [ -83.145137, 42.103228 ], [ -83.147809, 42.098035 ], [ -83.149024, 42.096324 ], [ -83.15081, 42.09628 ], [ -83.150725, 42.096138 ], [ -83.149008, 42.095032 ], [ -83.149521, 42.091793 ], [ -83.151213, 42.09096 ], [ -83.150687, 42.090165 ], [ -83.154656, 42.090456 ], [ -83.154709, 42.090273 ], [ -83.150805, 42.089676 ], [ -83.152408, 42.086153 ], [ -83.157943, 42.08591 ], [ -83.160272, 42.087525 ], [ -83.161626, 42.089091 ], [ -83.163537, 42.087058 ], [ -83.166094, 42.085987 ], [ -83.170193, 42.086743 ], [ -83.175199, 42.091535 ], [ -83.176061, 42.10267 ], [ -83.178087, 42.108305 ], [ -83.181272, 42.108378 ], [ -83.185025, 42.100413 ], [ -83.185706, 42.096874 ], [ -83.183458, 42.090585 ], [ -83.182817, 42.077442 ], [ -83.184987, 42.070433 ], [ -83.184936663566489, 42.067072624963195 ], [ -83.191116, 42.064579 ], [ -83.189448, 42.059826 ], [ -83.188608, 42.056035 ], [ -83.186195, 42.051916 ], [ -83.186928, 42.044534 ], [ -83.188066, 42.042949 ], [ -83.190641, 42.04093 ], [ -83.195394, 42.039871 ], [ -83.198127, 42.037929 ], [ -83.200228257371592, 42.036702845608197 ], [ -83.203119, 42.035016 ], [ -83.20098, 42.032192 ], [ -83.193493, 42.026542 ], [ -83.180562, 42.026957 ], [ -83.17089, 42.021775 ], [ -83.17089, 42.018155 ], [ -83.173409, 42.014535 ], [ -83.184953, 42.004481 ], [ -83.190781235164806, 42.000044 ], [ -83.193918, 41.997656 ], [ -83.198902035788194, 41.995256487915299 ], [ -83.212479, 41.98872 ], [ -83.216701048726506, 41.988568052116904 ], [ -83.216897, 41.988561 ], [ -83.223354, 41.989191 ], [ -83.228502, 41.987291 ], [ -83.235719, 41.982868 ], [ -83.243054, 41.977175 ], [ -83.245686, 41.976011 ], [ -83.250417, 41.972758 ], [ -83.252556, 41.970107 ], [ -83.252194, 41.968425 ], [ -83.257009, 41.959686 ], [ -83.257292, 41.950745 ], [ -83.254053, 41.949005 ], [ -83.253832842989098, 41.947199800397996 ], [ -83.253552, 41.944897 ], [ -83.256496, 41.942558 ], [ -83.260212, 41.941396 ], [ -83.26251, 41.939615 ], [ -83.264691, 41.934872 ], [ -83.263779, 41.93178 ], [ -83.264751, 41.930912 ], [ -83.265878, 41.931379 ], [ -83.266201, 41.934296 ], [ -83.267927, 41.936327 ], [ -83.268275, 41.937876 ], [ -83.270484, 41.939335 ], [ -83.283791, 41.944263 ], [ -83.290389, 41.944878 ], [ -83.295982, 41.944742 ], [ -83.302904, 41.943073 ], [ -83.303454221089297, 41.942811449825896 ], [ -83.303364, 41.94362 ], [ -83.307321, 41.947979 ], [ -83.309644, 41.9487 ], [ -83.315433, 41.955188 ], [ -83.319282, 41.958702 ], [ -83.32183, 41.95996 ], [ -83.324362, 41.964388 ], [ -83.327818, 41.965185 ], [ -83.331709, 41.967513 ], [ -83.328741, 41.970807 ], [ -83.336849, 41.970938 ], [ -83.347778, 41.977056 ], [ -83.35324, 41.977041 ], [ -83.360456, 41.976937 ], [ -83.362419, 41.980012 ], [ -83.363726, 41.980946 ], [ -83.366717, 41.981449 ], [ -83.370527, 41.983275 ], [ -83.371603, 41.981777 ], [ -83.372298, 41.982867 ], [ -83.371741, 41.985612 ], [ -83.370071, 41.986463 ], [ -83.370751, 41.988154 ], [ -83.372477, 41.989239 ], [ -83.371935, 41.991052 ], [ -83.374266, 41.992272 ], [ -83.381091, 41.992999 ], [ -83.382269, 41.994336 ], [ -83.383712, 41.993753 ], [ -83.384387, 41.99544 ], [ -83.387155, 41.99605 ], [ -83.387121, 41.998657 ], [ -83.388129, 42.006947 ], [ -83.378922, 42.007057 ], [ -83.378872, 41.996334 ], [ -83.378262, 41.995522 ], [ -83.3731, 41.993713 ], [ -83.37253, 41.992904 ], [ -83.363897, 41.993003 ], [ -83.354093, 42.007409 ], [ -83.346625, 42.018332 ], [ -83.340656, 42.010605 ], [ -83.340522, 42.014543 ], [ -83.311675, 42.015018 ], [ -83.311983, 42.016276 ], [ -83.31173, 42.022173 ], [ -83.302699, 42.022336 ], [ -83.303325, 42.024181 ], [ -83.30836, 42.026105 ], [ -83.311344, 42.026609 ], [ -83.311112, 42.028641 ], [ -83.312945, 42.030784 ], [ -83.318487, 42.031832 ], [ -83.318514, 42.032888 ], [ -83.320898, 42.034057 ], [ -83.319986, 42.035506 ], [ -83.32171, 42.037546 ], [ -83.324161, 42.03834 ], [ -83.323962, 42.039674 ], [ -83.325888, 42.039767 ], [ -83.329971, 42.042702 ], [ -83.32827, 42.043601 ], [ -83.322591, 42.043651 ], [ -83.322601, 42.044631 ], [ -83.326744, 42.047418 ], [ -83.314426, 42.065356 ], [ -83.309551, 42.072624 ], [ -83.30589, 42.07812 ], [ -83.304689, 42.079913 ], [ -83.320985, 42.079775 ], [ -83.321826, 42.081622 ], [ -83.326619, 42.083775 ], [ -83.329123, 42.085492 ], [ -83.327135, 42.086356 ], [ -83.327926, 42.086873 ], [ -83.32936, 42.087907 ], [ -83.330472, 42.089185 ], [ -83.330863, 42.090787 ], [ -83.330643, 42.094105 ], [ -83.3595, 42.094004 ], [ -83.339827, 42.112012 ], [ -83.339595, 42.115021 ], [ -83.34, 42.116121 ], [ -83.341349, 42.117077 ], [ -83.343372, 42.116978 ], [ -83.346425, 42.115104 ], [ -83.348458, 42.11499 ], [ -83.352428, 42.114031 ], [ -83.355089, 42.114648 ], [ -83.357086, 42.116016 ], [ -83.356168, 42.118458 ], [ -83.351922, 42.119444 ], [ -83.350977, 42.123008 ], [ -83.340638, 42.12304 ], [ -83.338254, 42.121883 ], [ -83.338192, 42.123073 ], [ -83.336558, 42.122066 ], [ -83.329984, 42.121019 ], [ -83.327058, 42.123227 ], [ -83.327105, 42.120455 ], [ -83.32532, 42.120391 ], [ -83.324, 42.123277 ], [ -83.314196, 42.123113 ], [ -83.304432, 42.123281 ], [ -83.304613, 42.130074 ], [ -83.303206, 42.129131 ], [ -83.302876, 42.127334 ], [ -83.301924, 42.127528 ], [ -83.302308, 42.129566 ], [ -83.300161, 42.129782 ], [ -83.300178, 42.130586 ], [ -83.301195, 42.130588 ], [ -83.304672, 42.132033 ], [ -83.304736863858523, 42.137803887596966 ] ] ], [ [ [ -83.191591, 42.035369 ], [ -83.189927, 42.035987 ], [ -83.188977, 42.034928 ], [ -83.189214, 42.033339 ], [ -83.190997, 42.033428 ], [ -83.191591, 42.035369 ] ] ], [ [ [ -83.145502, 42.090175 ], [ -83.142821, 42.093666 ], [ -83.141124, 42.092495 ], [ -83.140107, 42.090632 ], [ -83.144014, 42.087494 ], [ -83.145502, 42.090175 ] ] ], [ [ [ -83.179703, 42.101294 ], [ -83.178466, 42.104593 ], [ -83.17775, 42.105317 ], [ -83.177575, 42.10245 ], [ -83.179093, 42.100566 ], [ -83.179703, 42.101294 ] ] ], [ [ [ -83.178548, 42.083124 ], [ -83.175693, 42.087376 ], [ -83.173438, 42.085826 ], [ -83.172434, 42.081655 ], [ -83.169756, 42.076196 ], [ -83.170302, 42.075085 ], [ -83.174686, 42.077597 ], [ -83.174994, 42.081139 ], [ -83.1764, 42.079916 ], [ -83.17808, 42.080753 ], [ -83.178548, 42.083124 ] ] ], [ [ [ -83.136686, 42.126061 ], [ -83.1337, 42.128509 ], [ -83.1296, 42.128364 ], [ -83.128146, 42.130163 ], [ -83.12778, 42.128309 ], [ -83.12477, 42.125076 ], [ -83.128052, 42.124842 ], [ -83.124971, 42.114332 ], [ -83.124472, 42.119918 ], [ -83.123425, 42.120436 ], [ -83.124381, 42.114916 ], [ -83.125425, 42.108902 ], [ -83.125718, 42.113879 ], [ -83.127922, 42.123182 ], [ -83.131329, 42.123789 ], [ -83.134484, 42.12266 ], [ -83.13611, 42.123347 ], [ -83.136686, 42.126061 ] ] ], [ [ [ -83.132105, 42.131891 ], [ -83.12773, 42.131899 ], [ -83.125408, 42.129167 ], [ -83.128054, 42.130294 ], [ -83.131281, 42.13104 ], [ -83.133075, 42.130767 ], [ -83.132105, 42.131891 ] ] ] ] } },
{ "type": "Feature", "properties": { "Zone": "2", "ZoneName": "Detroit-South", "color": "orange" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -83.103664396933979, 42.287924278763683 ], [ -83.108223685169918, 42.289020816440683 ], [ -83.114683402319983, 42.290177780706365 ], [ -83.116630958833895, 42.290192242759687 ], [ -83.11933054212048, 42.289044919862881 ], [ -83.119957231097729, 42.287560149055238 ], [ -83.118940066680779, 42.282980498836906 ], [ -83.117840950628377, 42.281158280118454 ], [ -83.118376046601313, 42.279191440866782 ], [ -83.121957815140462, 42.27942283371992 ], [ -83.131560618545663, 42.281404135024886 ], [ -83.135672662373267, 42.282744285299302 ], [ -83.137529831053897, 42.282791286972554 ], [ -83.137145381469765, 42.283261002412715 ], [ -83.137888972044678, 42.284953062651276 ], [ -83.144445102883537, 42.293553163692863 ], [ -83.144466442085502, 42.293588220953225 ], [ -83.141563, 42.295457 ], [ -83.140403, 42.299054 ], [ -83.141652, 42.302172 ], [ -83.142494, 42.305502 ], [ -83.140584, 42.306846 ], [ -83.139717, 42.308662 ], [ -83.14078, 42.311008 ], [ -83.147038, 42.31963 ], [ -83.153209, 42.328087 ], [ -83.155005, 42.327654 ], [ -83.155354, 42.328138 ], [ -83.156594, 42.327798 ], [ -83.156981, 42.336961 ], [ -83.153713, 42.337333 ], [ -83.150814, 42.338784 ], [ -83.149197, 42.341072 ], [ -83.147545, 42.349918 ], [ -83.147736, 42.351916 ], [ -83.138246, 42.352101 ], [ -83.122661, 42.35183 ], [ -83.113635, 42.355212 ], [ -83.111649, 42.355732 ], [ -83.111012, 42.355954 ], [ -83.109068, 42.35747 ], [ -83.097557, 42.361957 ], [ -83.092837, 42.363092 ], [ -83.093574, 42.364236 ], [ -83.091528, 42.364991 ], [ -83.091122, 42.363732 ], [ -83.086601, 42.36539 ], [ -83.085228, 42.365418 ], [ -83.088062, 42.363574 ], [ -83.083396, 42.363001 ], [ -83.081276, 42.35892 ], [ -83.078998, 42.357708 ], [ -83.080993, 42.356037 ], [ -83.076514, 42.358757 ], [ -83.073917, 42.3536 ], [ -83.077592, 42.352446 ], [ -83.074668, 42.348629 ], [ -83.070542, 42.341445 ], [ -83.068904, 42.341957 ], [ -83.068222, 42.34018 ], [ -83.066207, 42.339359 ], [ -83.066331, 42.338376 ], [ -83.06748, 42.338017 ], [ -83.067049, 42.337264 ], [ -83.069767, 42.336413 ], [ -83.068786, 42.334677 ], [ -83.073272, 42.333573 ], [ -83.065643, 42.334474 ], [ -83.06434, 42.333674 ], [ -83.066804, 42.33379 ], [ -83.06595, 42.332282 ], [ -83.063069, 42.328405 ], [ -83.060522, 42.32734 ], [ -83.061848, 42.326769 ], [ -83.060461, 42.325079 ], [ -83.063023, 42.323988 ], [ -83.062537, 42.32337 ], [ -83.064506, 42.322742 ], [ -83.063293, 42.322401 ], [ -83.066145, 42.321664 ], [ -83.065573, 42.320025 ], [ -83.075635, 42.314349 ], [ -83.078526, 42.312752 ], [ -83.082501, 42.30938 ], [ -83.084889, 42.306633 ], [ -83.097885, 42.293751 ], [ -83.101914, 42.290078 ], [ -83.102185, 42.289747 ], [ -83.102465, 42.289499 ], [ -83.102615, 42.289416 ], [ -83.103664396933979, 42.287924278763683 ] ] ] ] } }
]
};
var count =1;

	function initMap(){
		map = new google.maps.Map(document.getElementById("map"), {
			zoom: 10,
			center: { lat: 42.50737738713244, lng:-83.15445721540152 },
			fullscreenControl: false,
			mapTypeControlOptions: {
      style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
      position: google.maps.ControlPosition.BOTTOM_LEFT,
    },
		  });
	infowindow = new google.maps.InfoWindow();
	
	
	var searchBox = new google.maps.places.SearchBox(document.getElementById('pac-input'));
		document.getElementById('pac-input').style.display = "block";
		map.controls[google.maps.ControlPosition.TOP_CENTER].push(document.getElementById('pac-input'));
		google.maps.event.addListener(searchBox, 'places_changed', function() {
		searchBox.set('map', null);


		 var places = searchBox.getPlaces();
			
		 var bounds = new google.maps.LatLngBounds();
		 var i, place;
		 for (i = 0; place = places[i]; i++) {
		   (function(place) {
			 
			 bounds.extend(place.geometry.location);


		   }(place));

		 }
		 map.fitBounds(bounds);
		 searchBox.set('map', map);
		 map.setZoom(Math.min(map.getZoom(),9));			//This controls the zoom level of the map after searching for an address
		 

	   });  
	
	createPolygons();
	}
    function makeApiCall() {
      var params = {
        
        spreadsheetId: '1ik0tyAcJkNk3Ifo5_Rjaq0KMGfxWLg_lvJybdigi8-E',  

        
        range: 'Partial 2 Current Vonigo List o',  

        
      };
	  
	  

      var request = gapi.client.sheets.spreadsheets.values.get(params);
      request.then(function(response) {
        
        
		showMarkers(response.result.values);
      }, function(reason) {
        console.error('error: ' + reason.result.error.message);
      });
	  
	 
    }

    async function initClient() {
      var API_KEY = 'AIzaSyA2xj_EwAaY7o3Wnd6Yr8howgK_d9iAUaA';  // TODO: Update placeholder with desired API key.

      
						

      
	  
      var SCOPE = 'https://www.googleapis.com/auth/spreadsheets.readonly';

      await gapi.client.init({
        'apiKey': API_KEY,
        
        'discoveryDocs': ['https://sheets.googleapis.com/$discovery/rest?version=v4'],
      }).then(function(resp) {
			
			console.log(resp)
			
      }, function(reason) {
        console.error('error: ' + reason);
      });
	  makeApiCall();
	  
    }
	
	function gisLoaded(){
	
		var CLIENT_ID = '114945093482-q4au4sl9fn167k3cehffgio8e3a933kc.apps.googleusercontent.com';  // TODO: Update placeholder with desired client ID.
		const SCOPES = 'https://www.googleapis.com/auth/spreadsheets.readonly';
		tokenClient = google.accounts.oauth2.initTokenClient({
          client_id: CLIENT_ID,
          scope: SCOPES,
          callback: '', // defined later
        });
        gisInited = true;
		
		tokenClient.callback = async (resp) => {
          if (resp.error !== undefined) {
            throw (resp);
          }
          
			
        };
		
	}
	
	

    function handleClientLoad() {
      gapi.load('client', initClient);
	  
    }
	
	function createPolygons(){
	
		
		
		
  
		  map.data.addGeoJson(polyData);
		  
		  map.data.setStyle(function(feature) {
			var zoneName = feature.getProperty('Zone');
			
				var color = feature.getProperty('color');
				return {
				  fillColor: color,
				  fillOpacity: 0.2,
				  strokeWeight: 1
				};
			
				
			
			
			});
			
			map.data.addListener('click', function(event) {
			 var feat = event.feature;
			 var html = "<b>"+feat.getProperty('ZoneName');
			 
			 infowindow.setContent(html);
			 infowindow.setPosition(event.latLng);
			 //infowindow.setOptions({pixelOffset: new google.maps.Size(0,-34)});
			 infowindow.open(map);
			});
	
	}
   
	function showMarkers(sheetValues){
	
		var titleArr = sheetValues[0]; 
		
		

	
		
		  
		  var streetAddressIndex = titleArr.indexOf("Street Address");
		  var cityIndex = titleArr.indexOf("City");
		  var stateIndex = titleArr.indexOf("State");
		  var zipIndex = titleArr.indexOf("Zip Code");
		  var coordIndex = titleArr.indexOf("LAT-LONG");
		  var photoIndex = titleArr.indexOf("Image 1 (before)");
		  var photo2Index = titleArr.indexOf("Image 2 (after)");
		  var nameIndex = titleArr.indexOf("Name");
		  var priContactIndex = titleArr.indexOf("Primary Contact");
		  var phoneIndex = titleArr.indexOf("Phone #");
		  var typeIndex = titleArr.indexOf("Type");
		  
		  var count = 0;
		  var addressText;
		var latValues;
			var lngValues;
			var address;
		  infowindow = new google.maps.InfoWindow();
		  var bounds = new google.maps.LatLngBounds();
		  
		  for (i = 1; i < sheetValues.length; i++) {
		  
			
				if(sheetValues[i][coordIndex] != "Null"){
				
					count  = count + 1;
				latlngValues = sheetValues[i][coordIndex].split(',');
				latValues = parseFloat(latlngValues[0]);
				lngValues = parseFloat(latlngValues[1]);
				addressText = sheetValues[i][streetAddressIndex] + ", " + sheetValues[i][cityIndex] + ", " + sheetValues[i][stateIndex] + ", " + sheetValues[i][zipIndex];
				clientType = sheetValues[i][typeIndex];
				clientName = sheetValues[i][nameIndex];
				photo1url = sheetValues[i][photoIndex];
				photo2url = sheetValues[i][photo2Index];						   
				
                
				if(clientType == "Existing"){
					marker = new google.maps.Marker({
						position: new google.maps.LatLng(latValues, lngValues),
						map: map,
						icon: "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png",
						addresstext: addressText, 
						name: clientName,
						photo1: photo1url,
						photo2: photo2url
                    
					});
				
				}else if(clientType == "Target"){
					marker = new google.maps.Marker({
						position: new google.maps.LatLng(latValues, lngValues),
						map: map,
						icon: "https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png",
						addresstext: addressText, 
						name: clientName,
						photo1: photo1url,
						photo2: photo2url
					});
				
				}
				
				
				markers.push(marker);
                
				bounds.extend(marker.getPosition());
				map.fitBounds(bounds);
				google.maps.event.addListener(marker, 'click', (function(marker, i) {
					return function() {
						
						
							
						infowindow.setContent( `<div id="myCarousel" class="carousel slide" data-interval="false" data-wrap="false" style="width:50%;margin: auto">
    

		<!-- Wrapper for slides -->
		<div class="carousel-inner" id="photoHolder">
			<div class="item active">
				<img id="photo1" src=${marker.photo1} alt="No photo">
			  </div>

			  <div class="item">
				<img  id="photo2" src=${marker.photo2} alt="No photo">
			  </div>

		  
		
		  
		</div>

		<!-- Left and right controls -->
		<a class="left carousel-control" href="#myCarousel" data-slide="prev"  id="slidePrev">
		  <span class="glyphicon glyphicon-chevron-left"></span>
		  <span class="sr-only">Previous</span>
		</a>
		<a class="right carousel-control" href="#myCarousel" data-slide="next" id="slideNext">
		  <span class="glyphicon glyphicon-chevron-right"></span>
		  <span class="sr-only">Next</span>
		</a>
  </div><br><br><b>${marker.name}</b><br>${marker.addresstext}<br><a target="_blank" href="https://www.google.com/maps/search/?api=1&query= ${marker.getPosition().lat()},${marker.getPosition().lng()}">View in Google Maps</a>` )
						
						

						infowindow.open(map, marker);
						map.panTo(marker.getPosition());
						
						
						
						  
					}
				})(marker, i));
				
				}
				
				
				
				
			 
        }
		  
	
	
	
	}
	
	
	
	
	
	
	
	
    </script>
	
	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2xj_EwAaY7o3Wnd6Yr8howgK_d9iAUaA&libraries=places&callback=initMap"></script>
    <script async defer src="https://apis.google.com/js/api.js" onload="handleClientLoad()"></script>
    <script async defer src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script>
    
    
  </body>
</html>
